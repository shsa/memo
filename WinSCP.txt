https://pc.ru/articles/poluchenie-root-prav-pri-rabote-v-winscp

Даем права root при работе через WinSCP

Для начала нужно найти файл sftp-server:

whereis sftp-server

В ответ терминал выдаст примерно что-то следующее:

sftp-server: /usr/lib/sftp-server /usr/share/man/man8/sftp-server.8.gz

Запоминаем путь /usr/lib/sftp-server (вместо него может быть другой, зависит от дистрибутива), и переходим к редактированию конфига /etc/sudoers:

sudo nano /etc/sudoers

В самом конце файла, с новой строки пишем:

ВАШЛОГИН ALL=NOPASSWD:/usr/lib/sftp-server

Где ВАШЛОГИН - это логин пользователя, который должен работать с рут правами, а /usr/lib/sftp-server - это путь, который мы узнали выше с помощью команды whereis.

Если нужно добавить больше, чем одного пользователя, то просто с новой строки повторяем написаное выше.

Теперь осталось дело за малым - отконфигурировать WinSCP. Открываем свойства соеденения, в пункте "Протокол передачи" обязательно выставляем SFTP.

Далее нажимаем кнопку "Еще", и там уже, в панели слева, выбираем пункт "Среда - SFTP". В самой верхней строчке под названием "Сервер SFTP" пишем следующее:

sudo /usr/lib/sftp-server